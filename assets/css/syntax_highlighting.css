/* Syntax Highlighting - Minimal & Theme-Aware
 * Uses --syntax-* variables defined in themes.css
 * Focused on essential languages: Elixir, JavaScript, TypeScript, Bash, Markdown
 */

/* Base code block styling */
pre.athl {
  color: var(--syntax-text);
  background-color: var(--syntax-bg);
  font-family: "Monaspace Argon", monospace;
  font-variant-ligatures: normal;
  tab-size: 4;
  border-color: var(--border-color);
  position: relative;
}

/* Copy button */
.copy-button {
  position: absolute;
  top: 0.75rem;
  right: 1rem;
  background: transparent;
  border: 1px solid var(--border-color);
  color: var(--text-muted);
  font-family: "Monaspace Argon", monospace;
  font-size: 0.75rem;
  padding: 0.25rem 0.5rem;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  z-index: 10;
}

pre.athl:hover .copy-button {
  opacity: 1;
}

.copy-button:hover {
  color: var(--text-primary);
  border-color: var(--text-primary);
}

.copy-button:active {
  transform: scale(0.95);
}

.copy-button.copied {
  color: var(--syntax-string);
  border-color: var(--syntax-string);
  opacity: 1;
}

.copy-icon {
  display: inline-block;
  letter-spacing: 0.05em;
}

/* Language label in top-left corner */
pre.athl code[class*="language-"]::before {
  position: absolute;
  top: 0.75rem;
  left: 2rem;
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  opacity: 0.5;
  font-family: "Monaspace Argon", monospace;
  pointer-events: none;
  z-index: 1;
}

/* Core syntax tokens */
.string,
.string-documentation {
  color: var(--syntax-string);
  font-family: var(--font-family-base);
}

.keyword,
.keyword-conditional,
.keyword-exception,
.keyword-function,
.keyword-import,
.keyword-operator,
.keyword-repeat,
.keyword-return {
  color: var(--syntax-keyword);
  font-weight: 600;
  font-family: var(--font-family-precise);
}

.function,
.function-builtin,
.function-call,
.function-method,
.function-method-call {
  color: var(--syntax-function);
  font-family: var(--font-family-warm);
}

.comment {
  color: var(--syntax-comment);
  opacity: 0.6;
  font-style: italic;
  font-family: var(--font-family-informal);
}

.comment-documentation {
  color: var(--syntax-comment);
  opacity: 0.7;
  font-style: italic;
  font-family: var(--font-family-authoritative);
}

.number,
.number-float {
  color: var(--syntax-number);
}

.operator {
  color: var(--syntax-operator);
  font-weight: 600;
}

.variable,
.variable-member,
.variable-parameter {
  color: var(--syntax-text);
}

.variable-builtin {
  color: var(--syntax-keyword);
}

.type,
.type-builtin {
  color: var(--syntax-keyword);
  font-weight: 500;
}

.property {
  color: var(--syntax-text);
}

.punctuation-bracket,
.punctuation-delimiter {
  color: var(--syntax-text);
  opacity: 0.8;
}

.constant,
.constant-builtin,
.boolean {
  color: var(--syntax-number);
}

.module {
  color: var(--syntax-function);
  font-weight: 600;
}

.tag {
  color: var(--syntax-keyword);
}

.attribute {
  color: var(--syntax-function);
}

.string-escape,
.string-special {
  color: var(--syntax-operator);
  font-weight: 700;
}

/* Language-specific accents and labels */

/* Elixir - Purple accent */
code.language-elixir {
  border-left: 3px solid rgba(148, 104, 221, 0.5);
  background: linear-gradient(
    90deg,
    rgba(148, 104, 221, 0.03) 0%,
    transparent 10%
  );
}

code.language-elixir::before {
  content: "ELIXIR";
  color: rgba(148, 104, 221, 0.7);
}

code.language-elixir .string-special-symbol {
  color: var(--syntax-number);
  font-weight: 600;
}

code.language-elixir .operator {
  font-weight: 700;
}

/* JavaScript - Yellow accent */
code.language-javascript,
code.language-js {
  border-left: 3px solid rgba(247, 223, 30, 0.5);
  background: linear-gradient(
    90deg,
    rgba(247, 223, 30, 0.03) 0%,
    transparent 10%
  );
}

code.language-javascript::before,
code.language-js::before {
  content: "JAVASCRIPT";
  color: rgba(247, 223, 30, 0.8);
}

/* TypeScript - Yellow accent */
code.language-typescript,
code.language-ts {
  border-left: 3px solid rgba(247, 223, 30, 0.5);
  background: linear-gradient(
    90deg,
    rgba(247, 223, 30, 0.03) 0%,
    transparent 10%
  );
}

code.language-typescript::before,
code.language-ts::before {
  content: "TYPESCRIPT";
  color: rgba(247, 223, 30, 0.8);
}

/* Bash/Shell - Green accent */
code.language-bash,
code.language-sh,
code.language-shell {
  border-left: 3px solid rgba(76, 175, 80, 0.5);
  background: linear-gradient(
    90deg,
    rgba(76, 175, 80, 0.03) 0%,
    transparent 10%
  );
}

code.language-bash::before,
code.language-sh::before,
code.language-shell::before {
  content: "BASH";
  color: rgba(76, 175, 80, 0.7);
}

code.language-bash .variable-parameter,
code.language-sh .variable-parameter {
  font-weight: 600;
}

/* Markdown - Gray accent */
code.language-markdown,
code.language-md {
  border-left: 3px solid rgba(158, 158, 158, 0.5);
  background: linear-gradient(
    90deg,
    rgba(158, 158, 158, 0.03) 0%,
    transparent 10%
  );
}

code.language-markdown::before,
code.language-md::before {
  content: "MARKDOWN";
  color: rgba(158, 158, 158, 0.8);
}

.markup-heading {
  color: var(--syntax-keyword);
  font-weight: bold;
}

.markup-italic {
  font-style: italic;
}

.markup-strong {
  font-weight: bold;
}

.markup-link,
.markup-link-url {
  color: var(--syntax-operator);
}

.markup-list {
  color: var(--syntax-keyword);
}

.markup-raw {
  color: var(--syntax-string);
}

/* Additional common languages - minimal styling */

/* Python - Blue accent */
code.language-python,
code.language-py {
  border-left: 3px solid rgba(48, 105, 152, 0.5);
  background: linear-gradient(
    90deg,
    rgba(48, 105, 152, 0.03) 0%,
    transparent 10%
  );
}

code.language-python::before,
code.language-py::before {
  content: "PYTHON";
  color: rgba(48, 105, 152, 0.8);
}

/* JSON - Indigo accent */
code.language-json {
  border-left: 3px solid rgba(63, 81, 181, 0.5);
  background: linear-gradient(
    90deg,
    rgba(63, 81, 181, 0.03) 0%,
    transparent 10%
  );
}

code.language-json::before {
  content: "JSON";
  color: rgba(63, 81, 181, 0.8);
}

/* CSS - Purple accent */
code.language-css {
  border-left: 3px solid rgba(156, 39, 176, 0.5);
  background: linear-gradient(
    90deg,
    rgba(156, 39, 176, 0.03) 0%,
    transparent 10%
  );
}

code.language-css::before {
  content: "CSS";
  color: rgba(156, 39, 176, 0.8);
}

/* HTML - Red accent */
code.language-html {
  border-left: 3px solid rgba(244, 67, 54, 0.5);
  background: linear-gradient(
    90deg,
    rgba(244, 67, 54, 0.03) 0%,
    transparent 10%
  );
}

code.language-html::before {
  content: "HTML";
  color: rgba(244, 67, 54, 0.8);
}

/* SQL - Teal accent */
code.language-sql {
  border-left: 3px solid rgba(0, 150, 136, 0.5);
  background: linear-gradient(
    90deg,
    rgba(0, 150, 136, 0.03) 0%,
    transparent 10%
  );
}

code.language-sql::before {
  content: "SQL";
  color: rgba(0, 150, 136, 0.8);
}

code.language-sql .keyword {
  text-transform: uppercase;
  font-weight: 700;
}

/* HEEx - Pink accent */
code.language-heex {
  border-left: 3px solid rgba(236, 72, 153, 0.5);
  background: linear-gradient(
    90deg,
    rgba(236, 72, 153, 0.03) 0%,
    transparent 10%
  );
}

code.language-heex::before {
  content: "HEEX";
  color: rgba(236, 72, 153, 0.7);
}

/* Diff - Gray accent */
code.language-diff {
  border-left: 3px solid rgba(158, 158, 158, 0.5);
  background: linear-gradient(
    90deg,
    rgba(158, 158, 158, 0.03) 0%,
    transparent 10%
  );
}

code.language-diff::before {
  content: "DIFF";
  color: rgba(158, 158, 158, 0.8);
}

.diff-plus {
  color: var(--syntax-string);
  background: rgba(0, 255, 0, 0.08);
}

.diff-minus {
  color: var(--syntax-comment);
  background: rgba(255, 0, 0, 0.08);
}

.diff-delta {
  color: var(--syntax-operator);
  background: rgba(255, 255, 0, 0.08);
}

/* Comment annotations */
.comment-todo,
.comment-note,
.comment-warning,
.comment-error {
  font-weight: 700;
  padding: 0 4px;
  border-radius: 2px;
  opacity: 1;
}

.comment-error {
  color: var(--syntax-bg);
  background-color: var(--syntax-keyword);
}

.comment-warning {
  color: var(--syntax-bg);
  background-color: var(--syntax-number);
}

.comment-todo {
  color: var(--syntax-bg);
  background-color: var(--syntax-function);
}

.comment-note {
  color: var(--syntax-bg);
  background-color: var(--syntax-operator);
}
